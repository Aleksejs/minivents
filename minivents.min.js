function Events(){var e={},t,n,r,i=Array;return{on:function(t,n,r){e[t]||(e[t]=[]);e[t].push({f:n,c:r})},off:function(r,i){n=e[r]||[];!i&&(n.length=0);t=n.length;while(~--t<0)i==n[t].f&&n.splice(t,1)},emit:function(){r=i.apply([],arguments);n=e[r.shift()]||[];r=r[0]instanceof i&&r[0]||r;t=n.length;while(~--t<0)n[t].f.apply(n[t].c,r)}}}
