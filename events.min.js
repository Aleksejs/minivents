function Events(){var E={},S=Array.prototype.slice;return{on:function(e,t,n){var r=E[e]||(E[e]=[]);r.push({f:t,context:n})},off:function(t,F){var l=E[t],c=S.call(E[t]),i,j;if(!F)return delete E[t];for(i=0,j=l.length;i<j;i++){with(l[i]){if(F===f)c.splice(i,1)}}E[t]=c},emit:function(e,t){if(!E[e])return false;if(t&&!(t instanceof Array))t=[t];var n=E[e],r,i;for(r=0,i=n.length;r<i;r++){n[r].f.apply(n[r].context,t)}}}}
